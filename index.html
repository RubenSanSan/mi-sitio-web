<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Mapa Naval Action - Español</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- CABECERA -->
    <header id="main-header">
        <img src="imagenes/cabeza.png" alt="Logo del Mapa" id="header-logo">
    </header>

    <button id="menu-toggle">☰</button>

    <!-- MENÚ LATERAL ACTUALIZADO -->
    <nav id="side-menu" class="hidden">
        <!-- Buscador de Puertos -->
        <div id="port-search-container">
            <input type="text" id="port-search-input" placeholder="Buscar puerto...">
            <div id="port-search-results"></div>
        </div>
        
        <!-- NUEVA SECCIÓN: SELECTOR DE PUERTO DE ORIGEN -->
        <div id="origin-port-selector">
            <h4>Puerto de Origen</h4>
            <input type="text" id="origin-port-input" placeholder="Escribe tu puerto actual...">
            <div id="origin-port-results"></div>
        </div>

        <!-- Buscador de Items -->
        <div id="item-finder">
            <h4>Buscador de Items</h4>
            <input type="text" id="item-finder-input" placeholder="Buscar item...">
            <div id="item-finder-results"></div>
        </div>

        <!-- Filtros por Nación -->
        <div id="nation-filters">
            <h4>Filtros por Nación</h4>
            <div class="filter-buttons"></div>
        </div>

        <!-- Calendario de Batallas -->
        <div id="battle-calendar">
            <h4>Batallas Próximas</h4>
            <ul id="battle-list"></ul>
        </div>

        <!-- Objetivos Prioritarios -->
        <div id="top-targets">
            <h4>Objetivos Prioritarios</h4>
            <ol id="top-targets-list"></ol>
        </div>
    </nav>
    <!-- FIN DE MENÚ -->

    <div id="map-container">
        <canvas id="map-canvas"></canvas>
    </div>

    <div id="tooltip"></div>

    <div id="portPanel" class="port-panel hidden">
        <h3 id="port-panel-title">Nombre del Puerto</h3>
        <button id="close-panel-button" class="close-button">×</button>
        <div class="tabs">
            <button data-tab="battle" class="tab-button active">Batalla</button>
            <button data-tab="trade" class="tab-button">Comercio</button>
        </div>
        <div id="battle" class="tab-content">
            <p><strong>Clan:</strong> <span id="battleClan"></span></p>
            <p><strong>Próxima batalla:</strong> <span id="battleCountdown"></span></p>
            <p><strong>Última batalla:</strong> <span id="lastBattleDate"></span></p>
            <hr>
            <p><strong>Límite de BR:</strong> <span id="battle-br-limit"></span></p>
            <p><strong>Puntos de Puerto:</strong> <span id="port-points"></span></p>
            <p><strong>Ventana de Batalla:</strong> <span id="battle-window"></span></p>
            <strong>Defensas:</strong>
            <ul id="port-defenses"></ul>
        </div>
        <div id="trade" class="tab-content hidden">
            <div id="trade-sorters">
                <button data-sort="name">Nombre</button>
                <button data-sort="quantity">Cantidad</button>
                <button data-sort="buy">Compra</button>
                <button data-sort="sell">Venta</button>
            </div>
            <ul id="tradeItems"></ul>
            <div id="trade-summary">
                <p>Impuesto: <span id="trade-tax"></span></p>
                <p>Volumen Total: <span id="trade-volume"></span></p>
            </div>
        </div>
    </div>

    <div id="copyright-footer">
        &copy; Copyright hecho por Ruben San San
    </div>

    <script src="script.js"></script>
</body>
</html>
